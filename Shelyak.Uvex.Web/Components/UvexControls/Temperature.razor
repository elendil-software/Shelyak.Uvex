@inherits UvexComponentBase
@rendermode InteractiveServer

<Card Class="mb-4">
    <CardBody>
        <CardTitle>Sondes</CardTitle>

        <ErrorCallout ErrorMessage="@ErrorMessage" />
        
        <dl class="row">
            <dt class="col-sm-2">Température</dt>
            <dd class="col-sm-10">@CurrentTemperature °C</dd>
        </dl>
    </CardBody>
</Card>

@code
{
    public float CurrentTemperature { get; set; }
  
    protected override async Task OnInitializedAsync()
    {
        await LoadData();
        await base.OnInitializedAsync();
    }
    
    protected override async Task LoadData()
    {
        var response = await UvexHttpClient.GetTemperature();
        HandleAlpacaError(response);
        CurrentTemperature = response.Value.Value;
    }
}
